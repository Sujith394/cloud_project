<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Azure Sentiment Demo</title>
  <style>
    body{font-family:Arial;margin:20px}
    textarea{width:80%;height:100px}
    #result{margin-top:20px;background:#f6f8fa;padding:12px;border-radius:6px}
  </style>
</head>
<body>
  <h2>Azure Sentiment Demo</h2>
  <textarea id="text" placeholder="Type a student message..."></textarea><br>
  <button id="send">Analyze Sentiment</button>
  <div id="result"></div>

  <script>
  const FUNC_URL = "https://mh-sentiment-func12345.azurewebsites.net/api/analyze-sentiment";
;
  document.getElementById('send').onclick = async () => {
    const txt = document.getElementById('text').value.trim();
    if(!txt) return alert('Enter a message');
    document.getElementById('result').innerHTML = 'Analyzing...';
    try {
      const r = await fetch(FUNC_URL, {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({text: txt})
      });
      const j = await r.json();
      if(j.error){ document.getElementById('result').innerText = 'Error: '+j.error; return; }
      const s = j.sentiment;
      const c = j.confidenceScores;
      document.getElementById('result').innerHTML =
        `<b>Sentiment:</b> ${s} <br/>
         <b>Confidence:</b> Positive ${c.positive} • Neutral ${c.neutral} • Negative ${c.negative}`;
    } catch(e){
      document.getElementById('result').innerText = 'Request failed: '+e;
    }
  };
  </script>
 
</body>
</html>




